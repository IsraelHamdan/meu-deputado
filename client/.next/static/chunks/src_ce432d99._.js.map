{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Israel/Documents/dev/LARAVEL/meu-deputado/client/src/hooks/use-deputados.ts"],"sourcesContent":["import { useQuery, useQueries, UseQueryResult } from \"@tanstack/react-query\";\nimport {\n  ApiResponseDeputados,\n  ApiResponseDespesas,\n} from \"@/interfaces/ApiResponse\";\nimport axios from \"axios\";\n\nconst baseUrl = \"http://127.0.0.1:8000/api\";\n\n// busca todos os deputados\n\nconst fetchDeputados = async (page: number) => {\n  const { data } = await axios.get(`${baseUrl}/deputados?page=${page}`);\n  if (data) return data;\n};\nexport function useDeputados(\n  page: number\n): UseQueryResult<ApiResponseDeputados> {\n  return useQuery<ApiResponseDeputados>({\n    queryKey: [\"Deputados\", page],\n    queryFn: () => fetchDeputados(page),\n    staleTime: 1000 * 60 * 5,\n  });\n}\n\n// busca um deputado por seu id\nconst findDeputado = async (id: number) => {\n  const { data } = await axios.get(`${baseUrl}/deputados/${id}`);\n  if (data) return data;\n};\n\nexport function useDeputado(id: number): UseQueryResult<ApiResponseDeputados> {\n  return useQuery<ApiResponseDeputados>({\n    queryKey: [\"Deputado\", id],\n    queryFn: () => findDeputado(id),\n    enabled: !!id,\n  });\n}\n\n// busca um deputado por seu nome\n\nconst findDeputadoByName = async (nome: string, page: number) => {\n  const { data } = await axios.get(\n    `${baseUrl}/deputados/nome/${nome}?page=${page}`\n  );\n  if (data) return data;\n};\n\nexport function useDeputadoByName(\n  nome: string,\n  page: number\n): UseQueryResult<ApiResponseDeputados> {\n  return useQuery<ApiResponseDeputados>({\n    queryKey: [\"DeputadoByName\", nome],\n    queryFn: () => findDeputadoByName(nome, page),\n    enabled: nome.length > 2,\n    staleTime: 1000 * 60 * 5,\n  });\n}\n\n// busca as despesas de determinado deputado\nconst fetchDespesas = async (deputadoId: number) => {\n  const { data } = await axios.get(`${baseUrl}/despesas/findAll/${deputadoId}`);\n  if (data) return data;\n};\n\nexport function useDespesas(\n  deputadoId: number\n): UseQueryResult<ApiResponseDespesas> {\n  return useQuery<ApiResponseDespesas>({\n    queryKey: [\"Despesas\", deputadoId],\n    queryFn: () => fetchDeputados(deputadoId),\n    staleTime: 1000 * 60 * 5,\n  });\n}\n"],"names":[],"mappings":";;;;;;AAAA;AAKA;;;;AAEA,MAAM,UAAU;AAEhB,2BAA2B;AAE3B,MAAM,iBAAiB,OAAO;IAC5B,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,wIAAA,CAAA,UAAK,CAAC,GAAG,CAAC,AAAC,GAA4B,OAA1B,SAAQ,oBAAuB,OAAL;IAC9D,IAAI,MAAM,OAAO;AACnB;AACO,SAAS,aACd,IAAY;;IAEZ,OAAO,CAAA,GAAA,8KAAA,CAAA,WAAQ,AAAD,EAAwB;QACpC,UAAU;YAAC;YAAa;SAAK;QAC7B,OAAO;qCAAE,IAAM,eAAe;;QAC9B,WAAW,OAAO,KAAK;IACzB;AACF;GARgB;;QAGP,8KAAA,CAAA,WAAQ;;;AAOjB,+BAA+B;AAC/B,MAAM,eAAe,OAAO;IAC1B,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,wIAAA,CAAA,UAAK,CAAC,GAAG,CAAC,AAAC,GAAuB,OAArB,SAAQ,eAAgB,OAAH;IACzD,IAAI,MAAM,OAAO;AACnB;AAEO,SAAS,YAAY,EAAU;;IACpC,OAAO,CAAA,GAAA,8KAAA,CAAA,WAAQ,AAAD,EAAwB;QACpC,UAAU;YAAC;YAAY;SAAG;QAC1B,OAAO;oCAAE,IAAM,aAAa;;QAC5B,SAAS,CAAC,CAAC;IACb;AACF;IANgB;;QACP,8KAAA,CAAA,WAAQ;;;AAOjB,iCAAiC;AAEjC,MAAM,qBAAqB,OAAO,MAAc;IAC9C,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,wIAAA,CAAA,UAAK,CAAC,GAAG,CAC9B,AAAC,GAA4B,OAA1B,SAAQ,oBAA+B,OAAb,MAAK,UAAa,OAAL;IAE5C,IAAI,MAAM,OAAO;AACnB;AAEO,SAAS,kBACd,IAAY,EACZ,IAAY;;IAEZ,OAAO,CAAA,GAAA,8KAAA,CAAA,WAAQ,AAAD,EAAwB;QACpC,UAAU;YAAC;YAAkB;SAAK;QAClC,OAAO;0CAAE,IAAM,mBAAmB,MAAM;;QACxC,SAAS,KAAK,MAAM,GAAG;QACvB,WAAW,OAAO,KAAK;IACzB;AACF;IAVgB;;QAIP,8KAAA,CAAA,WAAQ;;;AAQjB,4CAA4C;AAC5C,MAAM,gBAAgB,OAAO;IAC3B,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,wIAAA,CAAA,UAAK,CAAC,GAAG,CAAC,AAAC,GAA8B,OAA5B,SAAQ,sBAA+B,OAAX;IAChE,IAAI,MAAM,OAAO;AACnB;AAEO,SAAS,YACd,UAAkB;;IAElB,OAAO,CAAA,GAAA,8KAAA,CAAA,WAAQ,AAAD,EAAuB;QACnC,UAAU;YAAC;YAAY;SAAW;QAClC,OAAO;oCAAE,IAAM,eAAe;;QAC9B,WAAW,OAAO,KAAK;IACzB;AACF;IARgB;;QAGP,8KAAA,CAAA,WAAQ","debugId":null}},
    {"offset": {"line": 121, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Israel/Documents/dev/LARAVEL/meu-deputado/client/src/app/deputados/page.tsx"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-unused-vars */\r\n\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport {\r\n  Table,\r\n  ButtonGroup,\r\n  IconButton,\r\n  Pagination,\r\n  Stack,\r\n  Heading,\r\n  Text,\r\n  Image,\r\n  Badge,\r\n  Spinner,\r\n  Alert,\r\n  Button,\r\n} from \"@chakra-ui/react\";\r\nimport { Deputado } from \"@/interfaces/DeputadosResponse\";\r\nimport { useDeputados } from \"@/hooks/use-deputados\";\r\nimport { ApiResponseDeputados } from \"@/interfaces/ApiResponse\";\r\nimport Link from \"next/link\";\r\nimport { LuChevronLeft, LuChevronRight } from \"react-icons/lu\";\r\nimport DeputadoCard from \"@/components/DeputadoCard\";\r\nimport PartidoCard from \"@/components/PartidoCard\";\r\n\r\nexport default function DeputadosDahboard() {\r\n  const [currentPage, setCurrentPage] = useState<number>(1);\r\n  const { data, isLoading, isError, isSuccess } = useDeputados(currentPage);\r\n  const [selectedPartido, setSelectedPartido] = useState<string | null>(null);\r\n  const [deputadoId, setDeputadoId] = useState<number | null>(null);\r\n  const [nomeDeputado, setNomeDeputado] = useState<string>(\"\");\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <Stack align=\"center\" py={10}>\r\n        <Spinner size=\"lg\" />\r\n        <Text>Carregando deputados...</Text>\r\n      </Stack>\r\n    );\r\n  }\r\n\r\n  if (isError) {\r\n    return (\r\n      <Alert.Root status=\"error\">\r\n        <Alert.Title>Erro ao carregar deputados</Alert.Title>\r\n        <Alert.Description>\r\n          Não foi possível carregar os dados dos deputados.\r\n        </Alert.Description>\r\n      </Alert.Root>\r\n    );\r\n  }\r\n  if (!data || !data.data) {\r\n    return (\r\n      <Alert.Root status=\"info\">\r\n        <Alert.Title>Nenhum deputado encontrado</Alert.Title>\r\n      </Alert.Root>\r\n    );\r\n  }\r\n\r\n  const deputados = Array.isArray(data.data) ? data.data : [data.data];\r\n  const pagination = data.pagination;\r\n\r\n  const despesasDashborad = `/deputados/${deputadoId}`;\r\n\r\n  const handleDeputadoClick = (deputado: Deputado) => {\r\n    setDeputadoId(deputado.id);\r\n    setSelectedPartido(null);\r\n  };\r\n\r\n  return (\r\n    <Stack width=\"full\" gap=\"5\" p={6} align=\"center\" direction=\"column\">\r\n      <Heading size=\"xl\">Deputados dashboard</Heading>\r\n      <Table.Root size=\"sm\" variant=\"outline\" interactive>\r\n        <Table.Header>\r\n          <Table.Row>\r\n            <Table.ColumnHeader>Nome</Table.ColumnHeader>\r\n            <Table.ColumnHeader>email</Table.ColumnHeader>\r\n            <Table.ColumnHeader>Gastos</Table.ColumnHeader>\r\n            <Table.ColumnHeader>Partido</Table.ColumnHeader>\r\n            <Table.ColumnHeader>Legislatura</Table.ColumnHeader>\r\n            <Table.ColumnHeader>UF</Table.ColumnHeader>\r\n          </Table.Row>\r\n        </Table.Header>\r\n        <Table.Body>\r\n          {deputados.map((deputado: Deputado) => (\r\n            <Table.Row key={deputado.id}>\r\n              <Table.Cell>\r\n                <Button\r\n                  variant=\"solid\"\r\n                  onClick={() => handleDeputadoClick(deputado)}>\r\n                  {deputado.nome}\r\n                </Button>\r\n              </Table.Cell>\r\n              <Table.Cell>\r\n                <Text fontWeight=\"medium\">{deputado.email}</Text>\r\n              </Table.Cell>\r\n              <Table.Cell>\r\n                <Button>\r\n                  <Link href={despesasDashborad}>Ver Gastos</Link>\r\n                </Button>\r\n              </Table.Cell>\r\n              <Table.Cell>\r\n                <Text fontWeight=\"medium\">{deputado.sigla_partido}</Text>\r\n              </Table.Cell>\r\n              <Table.Cell>\r\n                <Text fontWeight=\"semibold\">{deputado.id_legislatura}</Text>\r\n              </Table.Cell>\r\n              <Table.Cell>\r\n                <Text fontWeight=\"semibold\">{deputado.sigla_uf}</Text>\r\n              </Table.Cell>\r\n            </Table.Row>\r\n          ))}\r\n        </Table.Body>\r\n      </Table.Root>\r\n      <Pagination.Root\r\n        count={pagination.total}\r\n        pageSize={pagination.per_page}\r\n        page={pagination.current_page}\r\n        onPageChange={(e) => setCurrentPage(e.page)}>\r\n        <ButtonGroup variant=\"solid\" size=\"sm\" wrap=\"wrap\">\r\n          <Pagination.PrevTrigger asChild>\r\n            <IconButton aria-label=\"Anterior\">\r\n              <LuChevronLeft />\r\n            </IconButton>\r\n          </Pagination.PrevTrigger>\r\n          <Pagination.Items\r\n            render={(page) => (\r\n              <IconButton variant={{ base: \"solid\", _selected: \"surface\" }}>\r\n                {page.value}\r\n              </IconButton>\r\n            )}></Pagination.Items>\r\n          <Pagination.NextTrigger asChild>\r\n            <IconButton aria-label=\"Próxima\">\r\n              <LuChevronRight />\r\n            </IconButton>\r\n          </Pagination.NextTrigger>\r\n        </ButtonGroup>\r\n      </Pagination.Root>\r\n    </Stack>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}